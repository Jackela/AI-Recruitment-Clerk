{
  "id": "CODE-001",
  "title": "Phase 2: HIGH Priority Code Quality Fixes",
  "description": "Fix code quality issues including 'any' types in core business logic and break up oversized files.",
  "acceptanceCriteria": [
    "All 'any' types in analytics.dto.ts replaced with proper typed interfaces",
    "No 'any' types in LLM service responses",
    "TypeScript compilation passes without errors",
    "Files are under 500 lines (or split into smaller modules)"
  ],
  "priority": 1,
  "passes": true,
  "files": [
    "libs/shared-dtos/src/domains/analytics.dto.ts",
    "apps/resume-parser-svc/src/vision-llm/vision-llm.service.ts",
    "apps/jd-extractor-svc/src/extraction/llm.service.ts",
    "apps/app-gateway/src/privacy/privacy-compliance.service.ts",
    "apps/resume-parser-svc/src/field-mapper/experience-calculator.spec.ts"
  ],
  "estimatedHours": 8,
  "subtasks": [
    {
      "id": "CODE-001a",
      "title": "Remove 'any' Types in analytics.dto.ts",
      "description": "Replace all 'any' types with proper interfaces for analytics events. Create typed interfaces for eventData, context, metadata, and payload.",
      "acceptanceCriteria": [
        "Proper interfaces created for all 'any' type usages",
        "eslint-disable-next-line @typescript-eslint/no-explicit-any comments removed",
        "TypeScript compilation passes",
        "Analytics events properly typed"
      ],
      "estimatedHours": 2,
      "dependsOn": [],
      "passes": true
    },
    {
      "id": "CODE-001b",
      "title": "Remove 'any' Types in LLM Services",
      "description": "Replace 'any' types in vision-llm.service.ts and llm.service.ts with typed interfaces for LLM responses.",
      "acceptanceCriteria": [
        "LLM response interfaces defined",
        "'any' types replaced with proper types",
        "TypeScript compilation passes"
      ],
      "estimatedHours": 1,
      "dependsOn": [],
      "passes": true
    },
    {
      "id": "CODE-001c",
      "title": "Break Up privacy-compliance.service.ts",
      "description": "Split the 1,310-line privacy-compliance.service.ts into smaller, focused modules.",
      "acceptanceCriteria": [
        "Extract consent-management.service.ts (~370 lines)",
        "Extract consent-cascade.service.ts (~326 lines)",
        "Extract data-subject-rights.service.ts (~167 lines)",
        "Extract data-collection.service.ts (~307 lines)",
        "Extract data-export.service.ts (~308 lines)",
        "Extract data-erasure.service.ts (~218 lines)",
        "Refactor privacy-compliance.service.ts to facade (~233 lines)",
        "Each module under 500 lines"
      ],
      "estimatedHours": 3,
      "dependsOn": [],
      "passes": true
    },
    {
      "id": "CODE-001d",
      "title": "Break Up analytics.dto.ts",
      "description": "Split the 1,345-line analytics.dto.ts by domain into smaller files.",
      "acceptanceCriteria": [
        "Extract analytics-event.dto.ts",
        "Extract analytics-metrics.dto.ts",
        "Extract analytics-aggregation.dto.ts",
        "Each module under 500 lines"
      ],
      "estimatedHours": 2,
      "dependsOn": ["CODE-001a"],
      "passes": false
    }
  ]
}
